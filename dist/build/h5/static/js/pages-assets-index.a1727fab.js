(self["webpackChunkcloud_stock"]=self["webpackChunkcloud_stock"]||[]).push([[722],{146:function(t,e,a){"use strict";a.d(e,{FF:function(){return s},SR:function(){return n},t7:function(){return o}});var i=a(132);const s=(t={})=>(0,i.A)({url:"/stock/item/list",method:"GET",params:t}),o=t=>(0,i.A)({url:"/stock/buy",method:"PUT",data:t}),n=()=>(0,i.A)({url:"/stock/user",method:"GET"})},181:function(t,e,a){var i=a(297);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(583).A;s("81fedb28",i,!0,{sourceMap:!1,shadowMode:!1})},297:function(t,e,a){"use strict";a.r(e);var i=a(935),s=a.n(i),o=a(56),n=a.n(o),c=n()(s());c.push([t.id,".container[data-v-1921de52]{padding:16px;background-color:#f5f7fa;min-height:100vh}.asset-card[data-v-1921de52]{position:relative;background:-webkit-linear-gradient(315deg,#2979ff,#609cff);background:linear-gradient(135deg,#2979ff,#609cff);border-radius:16px;padding:24px;color:#fff;margin-bottom:24px;box-shadow:0 8px 20px rgba(41,121,255,.3);overflow:hidden}.asset-card .card-bg-circle[data-v-1921de52]{position:absolute;top:-20px;right:-20px;width:100px;height:100px;background:hsla(0,0%,100%,.1);border-radius:50%}.asset-card .card-content[data-v-1921de52]{position:relative;z-index:1}.asset-card .card-content .card-title[data-v-1921de52]{font-size:14px;opacity:.8;margin-bottom:8px}.asset-card .card-content .card-balance[data-v-1921de52]{margin-bottom:20px}.asset-card .card-content .card-footer[data-v-1921de52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.asset-card .card-content .card-footer .footer-item[data-v-1921de52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.asset-card .card-content .card-footer .footer-item .label[data-v-1921de52]{font-size:12px;opacity:.8}.asset-card .card-content .card-footer .footer-item .val[data-v-1921de52]{font-size:18px;font-weight:700;margin-top:4px}.asset-card .card-content .card-footer .refresh-btn[data-v-1921de52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;gap:4px;background:hsla(0,0%,100%,.2);padding:6px 12px;border-radius:20px;font-size:12px;-webkit-transition:background .2s;transition:background .2s}.asset-card .card-content .card-footer .refresh-btn[data-v-1921de52]:active{background:hsla(0,0%,100%,.3)}.section-box .section-header[data-v-1921de52]{margin-bottom:16px}.section-box .section-header .title-left[data-v-1921de52]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;gap:8px}.section-box .section-header .title-left .title[data-v-1921de52]{font-size:18px;font-weight:700;color:#303133}.holdings-list .holding-card[data-v-1921de52]{background-color:#fff;border-radius:12px;padding:16px;margin-bottom:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-shadow:0 2px 8px rgba(0,0,0,.03)}.holdings-list .holding-card .card-icon[data-v-1921de52]{width:48px;height:48px;background-color:#ecf5ff;border-radius:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-right:16px}.holdings-list .holding-card .card-icon .icon-text[data-v-1921de52]{font-size:20px;font-weight:700;color:#2979ff}.holdings-list .holding-card .card-info[data-v-1921de52]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;gap:4px}.holdings-list .holding-card .card-info .item-name[data-v-1921de52]{font-size:16px;font-weight:700;color:#303133}.holdings-list .holding-card .card-info .item-id[data-v-1921de52]{font-size:12px;color:#909399}.holdings-list .holding-card .card-value[data-v-1921de52]{text-align:right}.holdings-list .holding-card .card-value .qty-label[data-v-1921de52]{font-size:12px;color:#909399;display:block}.holdings-list .holding-card .card-value .qty-val[data-v-1921de52]{font-size:18px;font-weight:700;color:#303133}",""]),e["default"]=c},993:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return b}});var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"asset-card"},[a("v-uni-view",{staticClass:"card-bg-circle"}),a("v-uni-view",{staticClass:"card-content"},[a("v-uni-view",{staticClass:"card-title"},[t._v("当前幸运值")]),a("v-uni-view",{staticClass:"card-balance"},[a("u-count-to",{attrs:{startVal:0,endVal:t.userInfo.luck||0,decimals:2,color:"#fff",fontSize:"36",bold:!0}})],1),a("v-uni-view",{staticClass:"card-footer"},[a("v-uni-view",{staticClass:"footer-item"},[a("v-uni-text",{staticClass:"label"},[t._v("持仓项目")]),a("v-uni-text",{staticClass:"val"},[t._v(t._s(t.stockList.length))])],1),a("v-uni-view",{staticClass:"refresh-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fetchData.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"reload",color:"#fff",size:"18"}}),a("v-uni-text",[t._v("刷新")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"section-box"},[a("v-uni-view",{staticClass:"section-header"},[a("v-uni-view",{staticClass:"title-left"},[a("u-icon",{attrs:{name:"bag-fill",color:"#2979ff",size:"20"}}),a("v-uni-text",{staticClass:"title"},[t._v("我的持仓")])],1)],1),a("v-uni-view",{staticClass:"holdings-list"},[t._l(t.stockList,function(e,i){return a("v-uni-view",{key:e.stockUserId||i,staticClass:"holding-card"},[a("v-uni-view",{staticClass:"card-icon"},[a("v-uni-text",{staticClass:"icon-text"},[t._v(t._s((e.stockName||"项")[0]))])],1),a("v-uni-view",{staticClass:"card-info"},[a("v-uni-text",{staticClass:"item-name"},[t._v(t._s(e.stockName||"项目 "+e.stockId))]),a("v-uni-text",{staticClass:"item-id"},[t._v("ID: "+t._s(e.stockId))])],1),a("v-uni-view",{staticClass:"card-value"},[a("v-uni-text",{staticClass:"qty-label"},[t._v("持仓量")]),a("v-uni-text",{staticClass:"qty-val"},[t._v(t._s(e.stockNumber))])],1)],1)}),0===t.stockList.length?a("u-empty",{attrs:{mode:"data",icon:"http://cdn.uviewui.com/uview/empty/data.png",text:"暂无持仓数据"}}):t._e()],2)],1)],1)},o=[],n={},c=a(146),d=a(571),r={data(){return{stockList:[]}},computed:{...(0,d.mapState)(["userInfo"])},onShow(){this.fetchData()},onPullDownRefresh(){this.fetchData().finally(()=>{uni.stopPullDownRefresh()})},methods:{fetchData(){return this.$store.dispatch("updateUserInfo"),this.fetchStock()},async fetchStock(){try{const t=await(0,c.SR)();0===t.code&&t.data&&(this.stockList=Array.isArray(t.data)?t.data:[])}catch(t){console.error(t)}}}},l=r,f=(a(181),a(535)),u=(0,f.A)(l,s,o,!1,null,"1921de52",null,!1,n,i),b=u.exports}}]);